<section class="page home">
    <div class="container">

        {{!-- Display the user's name if logged in --}}
        {{#if loggedIn}}
            <h1 class="welcome-user" value="{{userId}}">
                Salutations, {{userName}}!
            </h1>
        {{else}}
            <h1>Home</h1>
        {{/if}}

        <h2>Community Posts:</h2>
        <hr>

        {{!-- Loop through all posts and display them --}}
        {{#each posts}}
            <article class="home-container card mb-4 article-background">
                <div class="card-body">

                    <section class="public-post">
                        {{! Post Header }}
                        <header class="post-subject bg-dark text-white p-2 mb-2">
                            {{this.title}}
                        </header>
                        <div class="post-content text-black">
                            {{this.content}}
                        </div>

                        {{! Post Footer }}
                        <div class="post-footer">
                            {{! Post Footer Content }}
                            <div class="post-owner-display">
                                <span class="post-owner">
                                    {{this.user.name}}
                                </span>
                                <br />
                                <span class="post-date">
                                    {{this.date_created}}
                                </span>
                            </div>
                        </div>
                    </section>

                    {{!-- Posts' Comment Section --}}
                    <section class="comment-section">
                        <div class="comment-header">
                            <p>
                                Comments:
                            </p>
                        </div>

                        {{!-- View Full Post --}}
                        <a href="/dashboard/post/{{this.id}}" id="fullPostPage" class="btn btn-primary">
                            View Full Post
                        </a>

                        <hr>

                        {{! Section to add a comment}}
                        <div class="add-a-comment">
                            <h4>
                                Comment here:
                            </h4>
                            <textarea id="postComment" maxlength="1500" name="postComment" placeholder="Here are my 2Â¢..." type="text" required class="form-control"></textarea>

                            <button id="postCommentBtn" for="postComment" class="btn btn-success mt-2">
                                Send
                            </button>
                            <hr>
                        </div>

                        {{! The Actual Comments }}
                        <div class="comment-container">
                            <div class="preloader-comments">
                                {{! Dynamic Content Appears Here }}
                            </div>
                            <div class="empty-comment-history">
                                <p>
                                    Nothin' here but secrets...
                                </p>
                            </div>
                        </div>
                    </section>
                </div>
            </article>
        {{/each}}
    </div>
</section>

<script src="/js/home/homeInteractions.js"></script>
<script src="/js/home/submitComments.js"></script>
<script src="/js/home/summonPostComments.js"></script>
